10 CLS: KEY OFF
20 A$=STRING$(128,"0")
30 FOR I = 10 TO 210 STEP 25
40 GOSUB 110
50 NEXT
55 N$="1": GOSUB 1000
60 FOR I = 200 TO 216 STEP 2
70 GOSUB 110
80 NEXT
85 N$="2":GOSUB 1000
90 I=255:GOSUB 110
95 N$="3":GOSUB 1000
100 END
110 OPEN "O",#1,"scrn:":WIDTH#1,I
120 PRINT #1,I;A$;A$:CLOSE #1
130 RETURN
1000 ' dump screen
1010 DEF SEG=&HB800
1020 OPEN "dump"+N$+".dat" FOR OUTPUT AS 1
1030 FOR Y = 0 TO 24
1040 FOR X = 0 TO 79
1050 PRINT #1, CHR$(PEEK(2*(Y*80+X)));
1060 NEXT
1065 PRINT #1, ""
1070 NEXT
1080 CLOSE 1
1090 RETURN
